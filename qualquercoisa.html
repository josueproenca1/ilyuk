<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <title>Gotham City CCM - Vendas</title>
    <style>
        /* Centralização e estilo do contêiner */
        #search-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            position: relative;
        }

        /* Barra de Pesquisa */
        #searchBar-container {
            position: relative;
            width: 100%;
            max-width: 400px;
        }

        #searchBar {
            width: 100%;
            padding: 10px 40px 10px 15px;
            font-size: 1rem;
            border: 2px solid #333;
            border-radius: 25px;
            outline: none;
            transition: 0.3s;
        }

        #searchIcon {
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Contêiner de Resultados */
        #results {
            list-style: none;
            padding: 0;
            margin-top: 10px;
            width: 100%;
            max-width: 400px;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        #results li {
            padding: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            border-bottom: 1px solid #eee;
        }

        #results li:hover {
            background-color: #f0f0f0;
        }

        /* Estilo do Carrinho */
        #cart-image {
            display: none;
            text-align: center;
            margin-top: 15px;
        }

        #cart-image img {
            width: 50px;
            height: auto;
            cursor: pointer; /* Para indicar que é clicável */
        }

        /* Contêiner para os itens de compra */
        #item-list {
            display: none;
            margin-top: 20px;
            text-align: center;
            font-family: 'Roboto', sans-serif;
        }

        .item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 15px;
            background-color: #f9f9f9; /* Cor de fundo para os itens */
            border-radius: 8px;
            border: 1px solid #ddd;  /* Borda mais suave */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Sombra suave */
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        /* Efeito de hover para os itens */
        .item:hover {
            background-color: #f1f1f1;
            transform: translateY(-2px);
        }

        /* Estilo do nome do item e preço */
        .item span {
            flex: 1;
            text-align: left;
            font-size: 1.1rem;
            font-weight: 400;
            color: #333;
        }

        /* Estilo para os botões (adicionar e remover) */
        .item button {
            padding: 5px 12px;
            background-color: #333; /* Cor verde para o botão de adicionar */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }

        .item button.remove {
            background-color: #ff3333; /* Cor vermelha para o botão de remover */
        }

        .item button:hover {
            background-color: #555;
        }

        .item button.remove:hover {
            background-color: #ff6666;
        }

        /* Estilo do total do carrinho */
        #cart-total {
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 20px;
            color: #333;
        }

        /* Mensagem mágica entre seções */
        #magic-message {
            display: none;
            margin-top: 20px;
            text-align: center;
            font-size: 1.5rem;
            color: #333;
            font-weight: bold;
            background-color: #fffae6;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #333;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Estilo para o contêiner das imagens */
        .image-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 20px;
        }

        .image-container img {
            width: 200px;
            height: 200px;
            object-fit: cover; /* Para manter a proporção das imagens */
            border-radius: 8px;
        }

        /* Estilo para as imagens do cardápio */
        #menuImg {
            width: 100%; /* Largura 100% do contêiner */
            max-width: 400px; /* Define uma largura máxima */
            height: 300px; /* Defina uma altura fixa */
            object-fit: cover; /* Garante que a imagem cubra o espaço sem distorcer, mantendo o aspecto */
            border-radius: 8px; /* Arredonda as bordas */
        }
    </style>
</head>
<body>

<header>
    <div class="menu-hamburger" id="menu-toggle">&#9776;</div>
    <img src="imagens/LOGO GOTHAM.png" alt="" class="logo"> 
    <nav id="nav-menu">
        <div class="close-button" id="close-button">&times;</div>
        <ul>
            <li><a href="index.html">INICIO</a></li>
            <li><a href="https://www.instagram.com/gothamcity.ccm?igsh=MTE5MHV5a3NkYTk5Mw==">Instagram</a></li>
            <li><a href="https://chat.whatsapp.com/FCDxlwtmog3JmATCTkMonS" target="_blank">WhatsApp</a></li>
            <li><a href="https://www.instagram.com/ccm.joaoxxiii?igsh=MWtoeGNiY200d3VzMA==">Contato</a></li>
            <li><a href="qualquercoisa.html">Vendas</a></li>
        </ul>
    </nav>
</header>

<section id="pesquisa" class="section">
    <h2 id="typed-pesquisa" class="typed-text"></h2>
    <div id="search-container">
        <div id="searchBar-container">
            <input type="text" id="searchBar" placeholder="Pesquise aqui...">
            <img src="imagens/lupa.png" alt="Lupa" id="searchIcon">
            <ul id="results"></ul>
        </div>
        <!-- Contêiner para exibir o cardápio específico -->
        <div id="menu-image" style="display:none;">
            <img id="menuImg" src="" alt="Cardápio">
        </div>
        <!-- Contêiner para os itens de compra -->
        <div id="item-list" style="display:none;">
            <h3>Itens Disponíveis</h3>
            <div id="items"></div>  <!-- Aqui os itens serão inseridos dinamicamente -->
            <div id="cart-total"></div>  <!-- Exibe o total do carrinho -->
        </div>
        <!-- Contêiner para exibir a imagem do carrinho -->
        <div id="cart-image" style="display:none;">
            <img src="imagens/carrinho.png" alt="Carrinho">
        </div>
    </div>
</section>

<div id="typed-magic-message" class="typed-text"></div>

<main>
    <section id="home">
        <div class="titulo-container">
            <h1>Nossos Colaboradores:</h1>
            <div class="colaboradores">
                <div class="colaborador">
                    <h2>Tropicalia Doces</h2>
                    <img src="imagens/Tropicalia.jpg" alt="" class="imagem-colaborador">
                </div>
                <div class="colaborador">
                    <h2>Sabor Mágico</h2>
                    <img src="imagens/sabor.jpg" alt="" class="imagem-colaborador">
                </div>
                <div class="colaborador">
                    <h2>Arte e Doces</h2>
                    <img src="imagens/ArteeDoces.jpg" class="imagem-colaborador">
                </div>
                <div class="colaborador">
                    <h2>Tentação Salgada</h2>
                    <img src="imagens/Tentacao.jpg" alt="" class="imagem-colaborador">
                </div>
            </div>
            <p>Todas os nossos empreendedores trazem uma experiência maravilhosa a você. Entre em contato conosco através do nosso menu no topo da página, ou procure alguém de nossa turma!</p>
        </div>
    </section>
</main>


<footer>
    <p>&copy; 2024 Gotham City, CCM JOÃO XXIII. Todos os direitos reservados, By Neves e Josué.</p>
</footer>

<script>
    // Variáveis da busca e elementos
    const searchBar = document.getElementById('searchBar');
    const searchIcon = document.getElementById('searchIcon');
    const results = document.getElementById('results');
    const menuImageContainer = document.getElementById('menu-image');
    const menuImg = document.getElementById('menuImg');
    const itemListContainer = document.getElementById('item-list');
    const itemsContainer = document.getElementById('items');
    const cartTotal = document.getElementById('cart-total');
    const cartImageContainer = document.getElementById('cart-image');
    const magicMessage = document.getElementById('typed-magic-message');
    
    magicMessage.style.display = 'none'; // Inicialmente escondido

    // Definindo as opções de colaboradores e seus itens
    const options = {
        "Tropicalia Doces": {
            image: "imagens/cardapio1.jpg", // imagem do cardápio
            items: [
                { name: "Bolo 1", price: 12.00 },
                { name: "Bolo 2", price: 18.00 },
                { name: "Bolo 3", price: 22.00 }
            ]
        },
        "Sabor Mágico": {
            image: "imagens/Post Menu Confeitaria Divertido Marrom e Rosa (1).png",
            items: [
                { name: "Bolo 1", price: 12.00 },
                { name: "Bolo 2", price: 18.00 },
                { name: "Bolo 3", price: 22.00 }
            ]
        },
        "Arte e Doces": {
            image: "imagens/cardapio3.png",
            items: [
                { name: "Trufa 1", price: 5.00 },
                { name: "Trufa 2", price: 8.00 },
                { name: "Trufa 3", price: 12.00 }
            ]
        },
        "Tentação Salgada": {
            image: "imagens/cardapio4.png",
            items: [
                { name: "Salgado 1", price: 7.00 },
                { name: "Salgado 2", price: 10.00 },
                { name: "Salgado 3", price: 15.00 }
            ]
        }
    };

    let cart = {};

    // Função para atualizar o total do carrinho
    function updateCartTotal() {
        let total = 0;
        for (let item in cart) {
            total += cart[item].quantity * cart[item].price;
        }
        cartTotal.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    // Função para exibir os itens disponíveis para compra
    function displayMenuItems(searchTerm) {
        const selectedItems = options[searchTerm]?.items;  // Busca os itens baseados no colaborador pesquisado
        if (selectedItems) {
            itemsContainer.innerHTML = "";  // Limpa a área de itens para adicionar novos
            selectedItems.forEach(item => {
                const div = document.createElement("div");
                div.classList.add("item");  // Adiciona a classe de item para estilo
                div.innerHTML = `
                    <span>${item.name} - R$ ${item.price.toFixed(2)}</span>
                    <div class="quantity-container">
                        <button class="remove" data-item="${item.name}">-</button>
                        <input type="text" value="0" readonly id="quantity-${item.name}" />
                        <button class="add" data-item="${item.name}">+</button>
                    </div>
                `;
                itemsContainer.appendChild(div);  // Adiciona o item à lista de itens

                // Eventos para os botões de adicionar/remover
                div.querySelector(".add").addEventListener("click", () => {
                    const quantityInput = div.querySelector("input");
                    let quantity = parseInt(quantityInput.value);
                    quantity++;
                    quantityInput.value = quantity;
                    cart[item.name] = { quantity, price: item.price };
                    updateCartTotal();
                });

                div.querySelector(".remove").addEventListener("click", () => {
                    const quantityInput = div.querySelector("input");
                    let quantity = parseInt(quantityInput.value);
                    if (quantity > 0) {
                        quantity--;
                        quantityInput.value = quantity;
                        if (quantity === 0) {
                            delete cart[item.name];
                        } else {
                            cart[item.name].quantity = quantity;
                        }
                        updateCartTotal();
                    }
                });
            });

            // Exibe o contêiner de itens e imagem do cardápio
            itemListContainer.style.display = "block";
            menuImageContainer.style.display = "block";
            menuImg.src = options[searchTerm].image;
            cartImageContainer.style.display = "block";  // Exibe a imagem do carrinho
        } else {
            itemListContainer.style.display = "none";  // Se não encontrar, esconde o contêiner de itens
        }
    }

    // Função para digitar as mensagens animadas
    function typeText(elementId, text, delay = 100) {
        const element = document.getElementById(elementId);
        let index = 0;

        function type() {
            if (index < text.length) {
                element.textContent += text.charAt(index);
                index++;
                setTimeout(type, delay);
            }
        }
        type();
    }

    // Evento para exibir resultados da busca
    searchBar.addEventListener("input", () => {
        const query = searchBar.value.toLowerCase();
        results.innerHTML = "";

        if (query) {
            const filteredOptions = Object.keys(options).filter(option =>
                option.toLowerCase().includes(query) || query === "todos"
            );

            filteredOptions.forEach(option => {
                const li = document.createElement("li");
                li.textContent = option;
                li.addEventListener("click", () => {
                    searchBar.value = option;
                    results.innerHTML = "";
                    displayMenuItems(option);
                });
                results.appendChild(li);
            });
        }
    });

    searchIcon.addEventListener("click", () => {
        displayMenuItems(searchBar.value);
    });

    searchBar.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
            displayMenuItems(searchBar.value);
        }
    });

    // Evento de clique no carrinho para redirecionar para o GitHub
    cartImageContainer.addEventListener("click", () => {
        window.location.href = "https://github.com/";  // Redirecionamento para o GitHub
    });

    // Inicializando a animação da frase de pesquisa
    window.onload = () => {
        const texts = [
            { elementId: "typed-pesquisa", text: "Pesquisar Colaboradores" },
        ];

        texts.forEach(item => typeText(item.elementId, item.text));
    };
</script>

</body>
</html>
